<h2>Introduction</h2>
<p>
    This is part 4 of a 
    <a href="http://www.codeproject.com/search.aspx?q=amazon+web+services+perdeck&x=0&y=0&sbo=kw" target="_blank">series of articles</a>
     about deploying your site to 
    <a href="http://aws.amazon.com/" target="_blank">Amazon Web Services</a> (AWS), 
    Amazon's counterpart to <a href="http://azure.microsoft.com/en-us/" target="_blank">Windows Azure</a>.
</p>
<p>
    In parts 1, 2 and 3, you saw how to deploy a load balanced IIS based web site with a SQL Server database and its own domain name.
</p>
<a id="architecture"></a>
<img src="architecture.png" width="400" />

<p>
    Those parts showed how to do this using 
the AWS service
                <a href="http://aws.amazon.com/elasticbeanstalk/" target="_blank">Elastic Beanstalk</a>. 
    This allows you to define a configuration with EC2 servers, database server, etc. by completing a series of menus.
</p>
<p>
    This article introduces AWS 
    <a href="http://aws.amazon.com/cloudformation/" target="_blank">CloudFormation</a>.
    This service too lets you create servers and deploy code. But instead of completing menus, you express your desired configuration
    in a text file called a template. You then tell CloudFormation to &quot;launch&quot; this template to create a &quot;stack&quot; - AWS 
    speak for the servers, etc. you specified in the template.
</p>
<p>
    Each stack has a name, such as &quot;Live&quot; or &quot;Test&quot;. To change the server configuration
    for a stack, you first change the template and then tell CloudFormation to update the stack. It will then
    migrate your stack to the desired configuration expressed in your new template, with as little disruption as possible.  
</p>
<p>
    CloudFormation gives you much more control than Elastic Beanstalk, but there are many more details to get right - and many ways
    to get it wrong. I found that the learning curve can be quite steep.
</p>
<p>
    The downloads with this article contains a fully working and tested template to configure a load balanced web site with 
    an 
    <a href="http://aws.amazon.com/rds/" target="_blank">RDS</a>
    based
    SQL Server
    database and a 
    <a href="http://aws.amazon.com/route53/" target="_blank">Route 53</a>
    hosted zone for your domain name.
You might be able to use this template as a starting point for your own CloudFormation templates.
</p>

<h2>Why use CloudFormation?</h2>
<p>
    Why would you express your desired server configuration in a text file and then
    have 
    CloudFormation
    build that configuration for you? Why not launch the servers yourself from the AWS management console?
</p>
<ul>
<li>
    <b>Repeatable</b> - Having your configuration in a text file makes it trivial to create
    a new environment with the same configuration. For example, make a carbon copy of your live environment
    for testing purposed.
</li>
<li>
    <b>Source control</b> - 
    A text file can easily be stored in your 
    favorite source control system, such as GIT or TFS. Keep track of changes,
    roll back to previous versions, etc.
</li>
<li>
    <b>Documentation</b> -
    A text files makes it easier to figure out what bits and pieces of infrastructure
    you have lying around.
</li>
    </ul>
<p>
    Essentially, CloudFormation lets you manage your infrastructure in a similar way to
    the code base of your web site.
</p>

<h2>Solution Overview</h2>




---------------------------------------
@@@@@@@@@@@@@@@@@@
pricing
multi-az








